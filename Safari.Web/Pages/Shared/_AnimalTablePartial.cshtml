@model IList<Safari.Web.ViewModels.AnimalViewModel>

@if (Model.Any())
{
    <table id="AnimalTable" class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model[0].Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model[0].FilePath)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model[0].States)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model[0].AnimalTypeName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model[0].DietTypeName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model[0].Weight)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model[0].Height)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model[0].Length)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model[0].IsEndangered)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model[0].Lifespan)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                if (item.IsApproved == true)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>
                        <td>
                            <img src="@item.FilePath?version=@DateTime.UtcNow.Ticks" alt="@item.AltText" style="max-width:100px; max-height:100px;">
                        </td>
                        <td>
                            @if (item.States.Count <= 5)
                            {
                                @string.Join(", ", item.States)
                            }
                            else
                            {
                                @string.Join(", ", item.States.Take(5)) <span>. . .</span>
                            }
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.AnimalTypeName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.DietTypeName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Weight)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Height)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Length)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.IsEndangered)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Lifespan)
                        </td>

                        <td>
                            <a asp-page="./Details" asp-route-id="@item.AnimalId">Details</a>
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
}
else
{
    <p>No animals found.</p>
}
